@page "/project/{ProjectId:int}/testexecution"
@rendermode InteractiveServer
@attribute [Authorize]

<RadzenTabs @bind-SelectedIndex="@_selectedIndex">
    <Tabs>
        <RadzenTabsItem Text="All">
            <TestExecutionTable
                OnInitializedMethod="() => TestExecutionModel.DisplayTestExecutionIndexPage(ProjectId)"
                ProjectId="ProjectId"/>
        </RadzenTabsItem>
        <RadzenTabsItem Text="Passed">
            <TestExecutionTable
                OnInitializedMethod="() => TestExecutionModel.DisplayTestExecutionIndexPageWithStatus(ExecutionStatus.Passed, ProjectId)"
                ProjectId="ProjectId"/>
        </RadzenTabsItem>
        <RadzenTabsItem Text="Failed">
            <TestExecutionTable
                OnInitializedMethod="() => TestExecutionModel.DisplayTestExecutionIndexPageWithStatus(ExecutionStatus.Failed, ProjectId)"
                ProjectId="ProjectId"/>
        </RadzenTabsItem>
        <RadzenTabsItem Text="No Runs">
            <TestExecutionTable
                OnInitializedMethod="() => TestExecutionModel.DisplayTestExecutionIndexPageWithStatus(ExecutionStatus.NotRun, ProjectId)"
                ProjectId="ProjectId"/>
        </RadzenTabsItem>
    </Tabs>
</RadzenTabs>

@code {
    [Parameter] public int ProjectId { get; set; }

    int _selectedIndex;
}